---
interface SeriesPart {
  part: number;
  title: string;
  url: string;
}

interface Props {
  name: string;
  currentPart: number;
  parts: SeriesPart[];
}

const { name, currentPart, parts } = Astro.props;
---

<div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4 my-6">
  <div class="text-sm font-semibold text-muted-foreground mb-3">{name}</div>
  <ol class="space-y-1">
    {parts.map(({ part, title, url }) => {
      const isCurrent = part === currentPart;
      return (
        <li class="flex items-baseline gap-2 text-sm">
          <span class:list={[
            "font-mono text-xs shrink-0",
            isCurrent ? "text-foreground font-bold" : "text-muted-foreground"
          ]}>
            {part}.
          </span>
          {isCurrent ? (
            <span class="font-semibold text-foreground">{title}</span>
          ) : (
            <a href={url} class="text-muted-foreground hover:text-foreground hover:underline transition-colors">
              {title}
            </a>
          )}
        </li>
      );
    })}
  </ol>
</div>
